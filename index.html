<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yoga Sadhana Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #8B4513 0%, #5D4037 100%);
            color: #F5F5DC;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 2px solid #DAA520;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #FF6600, #DAA520);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 2.5em;
            color: #FFFFFF;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.1em;
            color: #F5F5DC;
            font-style: italic;
        }

        .nav-container {
            background: rgba(75, 0, 130, 0.2);
            border-top: 2px solid #4B0082;
            display: flex;
            justify-content: center;
        }

        .nav-tabs {
            display: flex;
            list-style: none;
        }

        .nav-tabs li {
            margin: 0;
        }

        .nav-tabs button {
            background: transparent;
            border: none;
            padding: 15px 30px;
            color: #F5F5DC;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .nav-tabs button:hover {
            background: rgba(218, 165, 32, 0.2);
            border-bottom-color: #DAA520;
        }

        .nav-tabs button.active {
            background: rgba(255, 102, 0, 0.3);
            border-bottom-color: #FF6600;
            color: #FFFFFF;
        }

        .tab-content {
            padding: 30px;
            min-height: 500px;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        .practice-card {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.3) 0%, rgba(75, 0, 130, 0.2) 100%);
            border: 2px solid #DAA520;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .practice-title {
            font-size: 1.8em;
            color: #DAA520;
            margin-bottom: 15px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .practice-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(45deg, #FF6600, #E34234);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .btn:hover {
            background: linear-gradient(45deg, #E34234, #FF6600);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .btn.secondary {
            background: linear-gradient(45deg, #4B0082, #708090);
        }

        .btn.secondary:hover {
            background: linear-gradient(45deg, #708090, #4B0082);
        }

        .streak-display {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(218, 165, 32, 0.1);
            border-radius: 10px;
            border: 1px solid #DAA520;
        }

        .streak-number {
            font-size: 3em;
            color: #DAA520;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .streak-label {
            font-size: 1.2em;
            color: #F5F5DC;
            margin-top: 10px;
        }

        .session-form {
            background: rgba(0, 0, 0, 0.2);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #4B0082;
            margin: 20px 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #DAA520;
            font-size: 1.1em;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #708090;
            border-radius: 6px;
            background: rgba(245, 245, 220, 0.9);
            color: #333;
            font-size: 1em;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .mandala-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            min-height: 300px;
        }

        .mandala-placeholder {
            width: 250px;
            height: 250px;
            border: 3px solid #DAA520;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, rgba(255, 102, 0, 0.1), rgba(75, 0, 130, 0.1));
            box-shadow: 0 0 30px rgba(218, 165, 32, 0.3);
        }

        .mandala-text {
            text-align: center;
            color: #DAA520;
            font-style: italic;
        }

        .export-section {
            background: rgba(75, 0, 130, 0.1);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #4B0082;
            margin-top: 30px;
        }

        .export-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
                width: 100%;
            }
            
            .nav-tabs button {
                padding: 12px 20px;
                font-size: 1em;
            }
            
            .practice-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üïâÔ∏è Yoga Sadhana Tracker</h1>
            <div class="subtitle">Sacred Practice Journey ‚Ä¢ Honoring the Ancient Path</div>
        </header>

        <nav class="nav-container">
            <ul class="nav-tabs">
                <li><button class="nav-btn active" data-tab="home">üè† Home</button></li>
                <li><button class="nav-btn" data-tab="shambhavi">üåÖ Shambhavi Mahamudra</button></li>
                <li><button class="nav-btn" data-tab="isha-kriya">üßò Isha Kriya</button></li>
            </ul>
        </nav>

        <main class="tab-content">
            <!-- Home Tab -->
            <div id="home" class="tab-pane active">
                <div class="practice-card">
                    <h2 class="practice-title">Welcome to Your Sacred Journey</h2>
                    <div class="mandala-container">
                        <div class="mandala-placeholder">
                            <div class="mandala-text">
                                <div>Infinite Spiral</div>
                                <div>Mandala</div>
                                <div style="font-size: 0.8em; margin-top: 10px;">(Coming Soon)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                        <div class="streak-display">
                            <div class="streak-number" id="shambhavi-total">0</div>
                            <div class="streak-label">Shambhavi Sessions</div>
                        </div>
                        <div class="streak-display">
                            <div class="streak-number" id="isha-total">0</div>
                            <div class="streak-label">Isha Kriya Sessions</div>
                        </div>
                    </div>

                    <div class="export-section">
                        <h3 style="color: #DAA520; text-align: center; margin-bottom: 20px;">Export Practice Data</h3>
                        <div class="export-buttons">
                            <button class="btn" onclick="exportData('shambhavi')">Export Shambhavi Data</button>
                            <button class="btn" onclick="exportData('isha')">Export Isha Kriya Data</button>
                            <button class="btn secondary" onclick="exportData('all')">Export All Data</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shambhavi Tab -->
            <div id="shambhavi" class="tab-pane">
                <div class="practice-card">
                    <h2 class="practice-title">Shambhavi Mahamudra Kriya</h2>
                    <div class="streak-display">
                        <div class="streak-number" id="shambhavi-streak">0</div>
                        <div class="streak-label">Day Consecutive Streak</div>
                    </div>

                    <div class="practice-buttons">
                        <button class="btn" onclick="recordSession('shambhavi', 'morning')">üåÖ Record Morning Session</button>
                        <button class="btn" onclick="recordSession('shambhavi', 'evening')">üåô Record Evening Session</button>
                    </div>

                    <div class="session-form" id="shambhavi-form" style="display: none;">
                        <h3 style="color: #DAA520; margin-bottom: 20px;">Record Session Details</h3>
                        <div class="form-group">
                            <label>Session Type:</label>
                            <input type="text" id="shambhavi-session-type" readonly>
                        </div>
                        <div class="form-group">
                            <label>Date & Time:</label>
                            <input type="datetime-local" id="shambhavi-datetime">
                        </div>
                        <div class="form-group">
                            <label>Practice Version:</label>
                            <select id="shambhavi-version">
                                <option value="full">Full Practice (40 min with preparatory asanas)</option>
                                <option value="core">Core Practice (21 min without preparatory asanas)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Notes, Visions, or Insights:</label>
                            <textarea id="shambhavi-notes" placeholder="Record any experiences, visions, insights, or observations from your practice..."></textarea>
                        </div>
                        <div class="practice-buttons">
                            <button class="btn" onclick="saveSession('shambhavi')">‚ú® Save Session</button>
                            <button class="btn secondary" onclick="cancelSession()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Isha Kriya Tab -->
            <div id="isha-kriya" class="tab-pane">
                <div class="practice-card">
                    <h2 class="practice-title">Isha Kriya</h2>
                    <div class="streak-display">
                        <div class="streak-number" id="isha-streak">0</div>
                        <div class="streak-label">Day Consecutive Streak</div>
                    </div>

                    <div class="practice-buttons">
                        <button class="btn" onclick="recordSession('isha-kriya', 'daily')">üßò Record Session</button>
                    </div>

                    <div class="session-form" id="isha-form" style="display: none;">
                        <h3 style="color: #DAA520; margin-bottom: 20px;">Record Session Details</h3>
                        <div class="form-group">
                            <label>Date & Time:</label>
                            <input type="datetime-local" id="isha-datetime">
                        </div>
                        <div class="form-group">
                            <label>Session Duration:</label>
                            <select id="isha-duration">
                                <option value="12-15">12-15 minutes (Minimum)</option>
                                <option value="15-18">15-18 minutes (Standard)</option>
                                <option value="18+">18+ minutes (Extended)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Notes, Visions, or Insights:</label>
                            <textarea id="isha-notes" placeholder="Record any experiences, visions, insights, or observations from your practice..."></textarea>
                        </div>
                        <div class="practice-buttons">
                            <button class="btn" onclick="saveSession('isha-kriya')">‚ú® Save Session</button>
                            <button class="btn secondary" onclick="cancelSession()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Global variables for data storage
        let shambhaviSessions = [];
        let ishaSessions = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateStreaks();
            updateTotals();
            
            // Set up navigation
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    switchTab(targetTab);
                });
            });
        });

        // Tab switching functionality
        function switchTab(targetTab) {
            // Hide all tab panes
            const tabPanes = document.querySelectorAll('.tab-pane');
            tabPanes.forEach(pane => pane.classList.remove('active'));
            
            // Remove active class from all nav buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show target tab and activate button
            document.getElementById(targetTab).classList.add('active');
            document.querySelector(`[data-tab="${targetTab}"]`).classList.add('active');
        }

        // Record session functionality
        function recordSession(practiceType, sessionType) {
            const form = document.getElementById(practiceType + '-form');
            const now = new Date();
            const localDateTime = new Date(now.getTime() - (now.getTimezoneOffset() * 60000)).toISOString().slice(0, 16);
            
            if (practiceType === 'shambhavi') {
                document.getElementById('shambhavi-session-type').value = 
                    sessionType === 'morning' ? 'Morning Practice üåÖ' : 'Evening Practice üåô';
                document.getElementById('shambhavi-datetime').value = localDateTime;
            } else {
                document.getElementById('isha-datetime').value = localDateTime;
            }
            
            form.style.display = 'block';
            form.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Save session functionality
        function saveSession(practiceType) {
            let sessionData = {
                id: Date.now(),
                timestamp: new Date().toISOString()
            };

            if (practiceType === 'shambhavi') {
                const sessionType = document.getElementById('shambhavi-session-type').value;
                const datetime = document.getElementById('shambhavi-datetime').value;
                const version = document.getElementById('shambhavi-version').value;
                const notes = document.getElementById('shambhavi-notes').value;

                sessionData.sessionType = sessionType.includes('Morning') ? 'morning' : 'evening';
                sessionData.datetime = datetime;
                sessionData.version = version;
                sessionData.notes = notes;
                sessionData.date = datetime.split('T')[0];

                shambhaviSessions.push(sessionData);
                
                // Clear form
                document.getElementById('shambhavi-notes').value = '';
                document.getElementById('shambhavi-form').style.display = 'none';
                
            } else if (practiceType === 'isha-kriya') {
                const datetime = document.getElementById('isha-datetime').value;
                const duration = document.getElementById('isha-duration').value;
                const notes = document.getElementById('isha-notes').value;

                sessionData.datetime = datetime;
                sessionData.duration = duration;
                sessionData.notes = notes;
                sessionData.date = datetime.split('T')[0];

                ishaSessions.push(sessionData);
                
                // Clear form
                document.getElementById('isha-notes').value = '';
                document.getElementById('isha-form').style.display = 'none';
            }

            saveData();
            updateStreaks();
            updateTotals();
            
            // Show success message (we'll enhance this later)
            alert('‚ú® Session recorded successfully! Your practice has been saved.');
        }

        // Cancel session recording
        function cancelSession() {
            document.getElementById('shambhavi-form').style.display = 'none';
            document.getElementById('isha-form').style.display = 'none';
            
            // Clear any partially filled forms
            document.getElementById('shambhavi-notes').value = '';
            document.getElementById('isha-notes').value = '';
        }

        // Update streak displays
        function updateStreaks() {
            document.getElementById('shambhavi-streak').textContent = calculateStreak(shambhaviSessions);
            document.getElementById('isha-streak').textContent = calculateStreak(ishaSessions);
        }

        // Update total counts
        function updateTotals() {
            document.getElementById('shambhavi-total').textContent = shambhaviSessions.length;
            document.getElementById('isha-total').textContent = ishaSessions.length;
        }

        // Calculate consecutive day streak
        function calculateStreak(sessions) {
            if (sessions.length === 0) return 0;
            
            // Sort sessions by date (most recent first)
            const sortedSessions = sessions.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Get unique dates
            const uniqueDates = [...new Set(sortedSessions.map(session => session.date))];
            uniqueDates.sort((a, b) => new Date(b) - new Date(a));
            
            if (uniqueDates.length === 0) return 0;
            
            // Check if today has a session, otherwise start from yesterday
            const today = new Date().toISOString().split('T')[0];
            let streak = 0;
            let currentDate = new Date(today);
            
            // If today doesn't have a session, start checking from yesterday
            if (uniqueDates[0] !== today) {
                currentDate.setDate(currentDate.getDate() - 1);
            }
            
            // Count consecutive days
            for (let i = 0; i < uniqueDates.length; i++) {
                const checkDate = currentDate.toISOString().split('T')[0];
                
                if (uniqueDates.includes(checkDate)) {
                    streak++;
                    currentDate.setDate(currentDate.getDate() - 1);
                } else {
                    break;
                }
            }
            
            return streak;
        }

        // Data persistence
        function saveData() {
            localStorage.setItem('yogaSadhana_shambhavi', JSON.stringify(shambhaviSessions));
            localStorage.setItem('yogaSadhana_isha', JSON.stringify(ishaSessions));
        }

        function loadData() {
            const savedShambhavi = localStorage.getItem('yogaSadhana_shambhavi');
            const savedIsha = localStorage.getItem('yogaSadhana_isha');
            
            if (savedShambhavi) {
                shambhaviSessions = JSON.parse(savedShambhavi);
            }
            
            if (savedIsha) {
                ishaSessions = JSON.parse(savedIsha);
            }
        }

        // Export functionality (placeholder for now)
        function exportData(type) {
            alert(`Export ${type} functionality coming in the next step! üìä`);
        }
    </script>
</body>
</html>
